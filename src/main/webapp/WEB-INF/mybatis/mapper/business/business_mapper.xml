<?xml version="1.0" encoding="UTF-8"?> 
<!DOCTYPE mapper PUBLIC 
	"-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="business_mapper">

	<select id="findBusinessByUserCode" parameterType="int" resultType="Business">
		SELECT * FROM BUSINESS
		WHERE user_code = #{userCode}
	</select>
	
	<insert id="saveAccommodation" parameterType="Accommodation">
		INSERT INTO ACCOMMODATION
		VALUES(accm_seq.NEXTVAL, #{acmType}, #{acmTypeName}, #{acmName}, #{bsnsCode}, 
		#{acmTel}, #{acmAddr}, #{acmRegDt}, #{acmStatus})
	</insert>
	
	<select id="findAccmListByUserCode" parameterType="int" resultType="Accommodation">
		SELECT * FROM ACCOMMODATION 
		WHERE bsns_code = (select bsns_code from business where user_code = #{userCode})
	</select>
	
</mapper>